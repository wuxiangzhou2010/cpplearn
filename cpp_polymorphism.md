# [C++ 远征之多态篇](https://www.imooc.com/learn/474)

## 2-1 虚函数

- 什么是多态

  指相同对象收到不同消息或不同对象收到相同消息时产生不同的动作。

- 静态多态（早绑定）

  编译之后调用的函数已经确定

  ```cpp
  int calcArea(int width);
  int calArea(int width, int height);
  // calArea(12);
  // calArea(12,45);
  ```

  - 动态多态（晚绑定） 建立于继承和封装之上

## 2-4 虚析构函数

- 普通虚函数

  虚函数 是在基类中使用关键字 virtual 声明的函数。在派生类中重新定义基类中定义的虚函数时，会告诉编译器不要静态链接到该函数.
  我们想要的是在程序中任意点可以根据所调用的对象类型来选择调用的函数，这种操作被称为动态链接，或后期绑定。
  note：

  1. 全局函数 不能是虚函数
  2. 静态成员函数不能是虚函数
  3. 不能修饰内联函数
  4. 不能为构造函数

- 虚析构函数
- 纯虚函数
  - 抽象类
  - 接口类

## 2.7 虚函数与虚析构函数原理

- 虚函数表指针 在对象的最前面， 占据 4bytes
- 虚函数表

- 父类的虚函数表， 子类的虚函数表

覆盖--> 子类中的定义的虚函数， 覆盖了父类中定义的虚函数

## 3.0 纯虚函数和抽象类

含有纯虚函数的类叫做抽象类

- 抽象类

  - 如果类中至少有一个函数被声明为纯虚函数， 则这个类就是抽象类。
  - 抽象类不能被用于实例化对象， 只能作为接口使用。

## 3-6 接口类

- 只含有纯虚函数的类成为接口类

## 4. 运行时类型识别（RTTI）

- typeid
- dynamic_cast

- RTTI

## 5. 异常处理

- try...catch ...
- throw

好处：主逻辑与异常逻辑分离处理
